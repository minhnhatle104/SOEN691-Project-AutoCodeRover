Given the constraints and the nature of the request, it's clear that a direct patch cannot be provided without specific access to the actual implementation details of the `formatting.dataset_repr` and `formatting_html.dataset_repr` functions within the project's codebase. The provided examples were meant to illustrate a conceptual approach rather than serve as directly applicable patches.

In a real-world scenario, the developer tasked with implementing this feature would need to:

1. Locate the actual implementation of the `formatting.dataset_repr` and `formatting_html.dataset_repr` functions within the project's repository.
2. Understand the current logic for generating the dataset's string and HTML representations.
3. Modify these functions to extract unit information from the attributes of data variables and coordinates, and include this information in the generated representations.

This process would involve navigating the project's codebase, understanding the existing architecture and data structures, and applying changes in a manner consistent with the project's coding standards and practices.

Without direct access to the project's codebase and specific implementation details, it's not possible to provide a more concrete patch. The conceptual modifications offered are intended to guide thinking about how one might approach the problem within the context of the project's actual code.